#  🚀 TAS: "Simplificando la Asistencia Técnica"
![Estado del Proyecto](https://img.shields.io/badge/estado-en%20desarrollo-yellow) ![Licencia](https://img.shields.io/badge/licencia-MIT-green) ![Versión](https://img.shields.io/badge/version-1.0.0-blue)

![Banner de TAS](https://github.com/Montitan/TAS/blob/main/proyecto-web-tas/assets/img/bannerTas.png?raw=true)
<p align="right">
  <img src="https://img.icons8.com/color/48/000000/proxmox.png" width="50" alt="Proxmox">
  <img src="https://img.icons8.com/color/48/000000/nginx.png" width="50" alt="Nginx">
  <img src="https://img.icons8.com/color/48/000000/cloudflare.png" width="50" alt="Cloudflare">
  <img src="https://raw.githubusercontent.com/lpispek/logos/2a1367abc3a98ad7526cc03b38ee73928e3bd08e/dhcp_112x112.png" width="50" alt="DHCP">
  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRf3nc9CLvb2mKqLziw76kewntr4O8SYG5sR-UVJGLSqteRdSh1oGO76paD9Z5UWrWMBEQ&usqp=CAU" width="50" alt="DNS">
  <img src="https://img.icons8.com/color/48/000000/html-5.png" width="50" alt="HTML">
  <img src="https://img.icons8.com/color/48/000000/css3.png" width="50" alt="CSS">
  <img src="https://img.icons8.com/color/48/000000/javascript.png" width="50" alt="JavaScript">
  <img src="https://img.icons8.com/color/48/000000/bootstrap.png" width="50" alt="Bootstrap">
  <img src="https://img.icons8.com/color/48/000000/mysql-logo.png" width="50" alt="MySQL">
  <img src="https://miro.medium.com/v2/resize:fit:1400/1*5Hnnv0awfSv0BGcq1C522w.png" width="50" alt="phpMyAdmin">
  <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" width="50" alt="GitHub">
</p>

## 📚 Índice
- [📋 Descripción](#descripción)
- [🎯 Objetivos del Proyecto](#-objetivos-del-proyecto)
- [📦 Tecnologías Utilizadas](#-tecnologías-utilizadas)
- [🖥️ Especificaciones del Sistema](#️-especificaciones-del-sistema)
- [🌳 Árbol de Navegación](#-árbol-de-navegación)
- [🌟 Funcionalidades](#-funcionalidades)
- [🚀 Estructura de la Base de Datos](#🚀-estructura-de-la-base-de-datos)
- [🔗 Relaciones Clave](#🔗-relaciones-clave)
- [🌐 Configuración de Red Virtual](#configuración-de-red-virtual)
- [📎 Recursos Adicionales](#recursos-adicionales)

---
# 1. 🌟 Briefing del Proyecto: TAS - Technical Assistance System

##  Introducción
 🌟  **TAS** es un sistema innovador de gestión de incidencias que transforma cómo las empresas abordan los problemas técnicos. Con una **interfaz intuitiva** y **funcionalidades robustas**, TAS permite a los usuarios gestionar tickets, realizar seguimientos y mejorar la eficiencia operativa.

## 2. 🎯 Objetivos del Proyecto
Nuestro sistema **TAS (Technical Assistance System)** está diseñado para alcanzar los siguientes objetivos clave en el ámbito corporativo:

<details>
<summary>🔗 Mejorar la Comunicación y Resolución de Incidencias</summary>

Facilitar una comunicación fluida y eficiente entre:
- 👨‍💼 **Empleados**
- 👩‍💻 **Equipo de Soporte Técnico**
- 🏢 **Departamentos Interesados**

Esto permite una resolución más rápida y efectiva de las incidencias técnicas, mejorando la colaboración y reduciendo el tiempo de inactividad.
</details>

<details>
<summary>🛠️ Optimizar el Trabajo del Equipo Técnico</summary>

- 📊 Proporcionar información completa y actualizada sobre todas las incidencias en la organización.
- ⏱️ Permitir una respuesta rápida y eficiente a los problemas técnicos mediante herramientas de priorización.
- 📱 Facilitar el acceso a la información en cualquier momento y lugar, promoviendo un entorno de trabajo flexible.
</details>

<details>
<summary>📝 Gestión Integral de Incidencias</summary>

- 🗃️ Asegurar que todas las incidencias queden debidamente registradas en un sistema centralizado.
- 🏷️ Clasificar las incidencias según su importancia, urgencia y dificultad para una gestión más efectiva.
- 📈 Facilitar el seguimiento y la priorización de tareas, asegurando que se aborden las incidencias críticas primero.
</details>
 
## 3. 🌍 Contexto del Proyecto
La necesidad de un sistema centralizado de gestión de incidentes surgió debido a:
- 📈 La creciente necesidad de asistencia técnica.
- 🗂️ La falta de un sistema organizado que permitiera a los usuarios realizar un seguimiento eficaz.
- 💬 Los comentarios de los clientes indicaban la necesidad de mejorar la comunicación y la resolución de problemas.


## 4. 🎯 Cualidades Diferenciadoras de TAS

- 📞 Comunicación Eficiente: 
 Conecta departamentos, personal técnico y usuarios finales en una plataforma consolidada.

- ⚙️ Eficiencia:
   Mejora el proceso de registro, seguimiento y resolución de incidentes.

- 🖥️ Tecnología Intuitiva: 
   Elaborado para ser fácil de usar y accesible para todos los niveles de usuarios.

## 5. 💡 Beneficios 

1. ⚡ Resolución Inmediata:
   - 🕒 Monitoreización de incidencias en tiempo real.
   - 🔝 Asignación por priorización según responsabilidades al equipo técnico.

2. 📈 Avance constante:
   - 📊 Registro dn detalle de las incidencias.
   - 🔍 Reconocimiento de patrones para evitar problemas que se repiten.

3. 🔄 Administración de casos:
   - 🏷️ Clasificación de los tickets.
   - 💻 Acceso a datos en cualquier momento y lugar.

---

## 6. 🚀 ¡Transforma tu Gestión Técnica!

TAS no es solo un sistema; es una técnica de mejora continua para la administración técnica en entornos corporativos, fomentando la productividad y maximizando los recursos técnicos.

---
## 7. 🖥️ Especificaciones del Sistema
| COMPONENTE    | SO                  | ALMACENAMIENTO | CPU          | RAM  | IP                | GATEWAY      |
|---------------|---------------------|----------------|--------------|------|-------------------|--------------|
| 🖥️ MAQUINA HOST  | Proxmox             | 465 GB         | 4 Cores      | 8 GB | 100.77.20.132     | 100.77.20.1  |
| 💻 CLIENTE       | Ubuntu 22.04.01     | 14 GB          | 1            | 2 GB | 192.168.1.11/24   | 192.168.1.1  |
| 🌐 ROUTER / DHCP | Ubuntu 22.04.01     | 14 GB          | 1            | 2 GB | 192.168.1.1/24    | 192.168.1.1  |
| 🕸️ NGINX         | Ubuntu 22.04.01     | 14 GB          | 1            | 2 GB | 192.168.1.3/24    | 192.168.1.1  |
| 🗄️ BBDD          | Ubuntu 22.04.01     | 14 GB          | 1            | 2 GB | 192.168.1.4/24    | 192.168.1.1  |
| 📡 DNS           | Ubuntu 22.04.01     | 14 GB          | 1            | 2 GB | 192.168.1.2/24    | 192.168.1.1  |


### Descripción de elementos del Sistema

- **🖥️ MAQUINA HOST**: 
   - **Sistema Operativo**: Proxmox.
   - **Función**: Servidor principal que aloja máquinas virtuales y gestiona recursos.

- **💻 CLIENTE**: 
   - **Sistema Operativo**: Ubuntu.
   - **Función**: Dispositivo final utilizado por los usuarios para acceder a aplicaciones y servicios.

- **🌐 ROUTER / DHCP**: 
   - **Sistema Operativo**: Ubuntu.
   - **Función**: Asigna direcciones IP dinámicas y gestiona el tráfico entre la red interna y externa.

- **🕸️ NGINX**: 
   - **Sistema Operativo**: Ubuntu.
   - **Función**: Servidor web que gestiona solicitudes y actúa como proxy inverso.

- **🗄️ BBDD**: 
   - **Sistema Operativo**: Ubuntu.
   - **Función**: Almacena y gestiona datos necesarios para las aplicaciones.

- **📡 DNS**: 
   - **Sistema Operativo**: Ubuntu.
   - **Función**: Resuelve nombres de dominio a direcciones IP.
---
## 8. 📦 Tecnologías Utilizadas

El sistema **TAS (Technical Assistance System)** se basa en una variedad de tecnologías modernas para garantizar un rendimiento óptimo y una gestión eficiente de incidencias. A continuación se detallan las principales tecnologías utilizadas:

| Categoría        | Tecnología  | Descripción                                                                                       | Icono                                                                                   |
|------------------|-------------|---------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| 🌐 Infraestructura | Proxmox    | Plataforma de virtualización que permite gestionar máquinas virtuales y contenedores.            | <img src="https://img.icons8.com/color/48/000000/proxmox.png" width="50" height="50" alt="Proxmox">                       |
|                  | Nginx      | Servidor web y proxy inverso que maneja la carga y mejora el rendimiento del sistema.            | <img src="https://img.icons8.com/color/48/000000/nginx.png" width="50" height="50" alt="Nginx">                           |
|                  | Cloudflare | Servicio de CDN (Content Delivery Network) que optimiza la seguridad y velocidad del sitio web.  | <img src="https://img.icons8.com/color/48/000000/cloudflare.png" width="50" height="50" alt="Cloudflare">                 |
| 💻 Desarrollo     | HTML       | Estructura básica de las páginas web.                                                            | <img src="https://img.icons8.com/color/48/000000/html-5.png" width="50" height="50" alt="HTML">                           |
|                  | CSS        | Estilos y diseño visual para una experiencia de usuario atractiva.                               | <img src="https://img.icons8.com/color/48/000000/css3.png" width="50" height="50" alt="CSS">                             |
|                  | JavaScript | Interactividad y dinamismo en la interfaz del usuario.                                          | <img src="https://img.icons8.com/color/48/000000/javascript.png" width="50" height="50" alt="JavaScript">                 |
|                  | Bootstrap  | Framework CSS que proporciona componentes pre-estilizados y un sistema de cuadrícula responsivo.  | <img src="https://img.icons8.com/color/48/000000/bootstrap.png" width="50" height="50" alt="Bootstrap">                   |
| 🗄️ Base de Datos   | MySQL      | Sistema de gestión de bases de datos relacional utilizado para almacenar datos.                   | <img src="https://img.icons8.com/color/48/000000/mysql-logo.png" width="50" height="50" alt="MySQL">                      |
|                  | phpMyAdmin | Herramienta de administración para MySQL que facilita la gestión de bases de datos.              | <img src="https://miro.medium.com/v2/resize:fit:1400/1*5Hnnv0awfSv0BGcq1C522w.png" width="50" height="50" alt="phpMyAdmin">|
| 🌐 Redes         | DHCP       | Protocolo utilizado para asignar dinámicamente direcciones IP a dispositivos en la red.          | <img src="https://raw.githubusercontent.com/lpispek/logos/2a1367abc3a98ad7526cc03b38ee73928e3bd08e/dhcp_112x112.png" width="50" height="50" alt="DHCP"> |
|                  | DNS        | Sistema de nombres de dominio que traduce nombres legibles por humanos a direcciones IP.        | <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRf3nc9CLvb2mKqLziw76kewntr4O8SYG5sR-UVJGLSqteRdSh1oGO76paD9Z5UWrWMBEQ&usqp=CAU" width="50" height="50" alt="DNS"> |
| 🔧 Control de Versiones  | GitHub     | Plataforma para alojar repositorios Git y colaborar en proyectos.                                | <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" width="50" height="50" alt="GitHub">|

---

<h2> 9. 🌳 Árbol de Navegación</h2>

<ul>
    <li>TAS - Technical Assistance System
        <ul>
            <li>🏠 Landing Page</li>
            <li>👤 Autenticación
                <ul>
                    <li>🔑 Login</li>
                    <li>📝 Registro</li>
                    <li>🔄 Restauración de Credenciales
                        <ul>
                            <li>📧 Enviar Correo de Recuperación</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>ℹ️ Información
                <ul>
                    <li>📖 Conócenos</li>
                    <li>👥 Quiénes Somos</li>
                </ul>
            </li>
            <li>📊 Dashboard
                <ul>
                    <li>👤 Perfil de Usuario
                        <ul>
                            <li>✉️ Cambiar Correo</li>
                            <li>🔒 Cambiar Contraseña</li>
                        </ul>
                    </li>
                    <li>🎫 Gestión de Tickets
                        <ul>
                            <li>➕ Nuevo Ticket</li>
                            <li>❌ Tickets Sin Resolver</li>
                            <li>📂 Tickets Abiertos</li>
                            <li>⏳ Tickets en Espera</li>
                            <li>🚫 Tickets No Asignados</li>
                            <li>📝 Tareas Pendientes</li>
                            <li>📅 Actividades Recientes</li>
                            <li>🔍 Buscar Tickets</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>🔍 Búsqueda General</li>
        </ul>
    </li>
</ul>


---
## 10. 🌟 Funcionalidades

<details>
<summary>👤 Gestión de Usuarios</summary>

- 🔐 Login: Acceso seguro al sistema.
- 📝 Registro: Crear una nueva cuenta.
- 🔄 Restauración de Credenciales: Recuperar acceso a la cuenta.
- 📧 Envío de Correo de Recuperación: Recuperar credenciales a través del correo.
- 👤 Perfil de Usuario: Ver y editar información personal.
- ✉️ Cambiar Correo: Actualizar dirección de correo electrónico.
- 🔑 Cambiar Contraseña: Modificar la contraseña de acceso.

</details>

<details>
<summary>🎫 Gestión de Tickets</summary>

- ➕ Nuevo Ticket: Crear un nuevo ticket para incidencias.
- ❗ Tickets Sin Resolver: Visualizar tickets pendientes.
- 📂 Tickets Abiertos: Ver tickets que están actualmente abiertos.
- ⏳ Tickets en Espera: Tickets que requieren atención adicional.
- 🚩 Tickets No Asignados: Tickets que aún no tienen un técnico asignado.
- 📋 Tareas Pendientes: Listado de tareas que necesitan ser completadas.
- 🕒 Actividades Recientes: Historial de actividades relacionadas con los tickets.
- 🔍 Buscar Tickets: Funcionalidad para buscar tickets específicos.

</details>

<details>
<summary>📊 Dashboard</summary>

- 📈 Vista General del Sistema: Resumen visual del estado actual del sistema y tickets.

</details>

<details>
<summary>🌐 Páginas Públicas</summary>

- 🏠 Landing Page: Página principal del sistema.
- ℹ️ Conócenos: Información sobre el proyecto y su propósito.
- 👥 Quiénes Somos: Detalles sobre el equipo detrás del proyecto.

</details>

<p>Estas funcionalidades en conjunto crean un sistema completo para gestionar solicitudes de soporte, permitiendo a los usuarios crear y dar seguimiento a sus tickets, y a los agentes de soporte administrar y resolver estas solicitudes de manera eficiente.</p>


# 11. 📊 Diagrama de Gantt - Funcionalidades del Proyecto

| ID  | Funcionalidad                   | Tiempo Estimado   | Semana 1 | Semana 2 | Semana 3 | Semana 4 |
|-----|----------------------------------|-------------------|----------|----------|----------|----------|
| F1  | Login                            | 2 días            | 🟩🟩      |          |          |          |
| F2  | Registro                         | 2 días            | 🟦🟦      |          |          |          |
| F3  | Conócenos                        | 2 días            | 🟨🟨      |          |          |          |
| F4  | Landing Page                     | 1 semana          | 🟥🟥🟥🟥🟥🟥🟥🟥    |          |          |          |
| F5  | Restauración de credenciales     | 2 días            |          | 🟪🟪      |          |          |
| F6  | Enviar correo de recuperación    | 2 días            |          | 🟫🟫      |          |          |
| F7  | Dashboard                        | 1 semana y media  |          | 🟧🟧🟧🟧🟧🟧🟧    |          |          |
|     | - Perfil de usuario              |                   |          |          |          |
|     | - Cambiar correo                 |                   |          |          |          |
|     | - Cambiar contraseña             |                   |          |          |          |
| F8  | Gestor de Tickets                | 4 días            |          |          | 🟩🟩🟩🟩      |
|     | - Nuevo                          |                   |          |          |          |
|     | - Sin resolver                   |                   |          |          |          |
|     | - Abierto, Espera, No asignado   ||                 ||         ||         ||         |
| F9  | Tareas pendientes                | 2 días            |             |             |             |  🟥🟥       |
| F10  | Buscar                           | 2 días            |             |             |             |  🟦🟦       |
| F11  | Quiénes somos                    | 1 día            |             |             |             |  🟨       |




## 12.🗄️ Diseño Esquemático de la Base de Datos

![Diagrama de la Base de Datos](https://github.com/Montitan/TAS/blob/8b08dcadf6d0e571fe1bba640909d8c27871bbce/proyecto-web-tas/assets/img/Dise%C3%B1o%20de%20bbdd.png)


## 13. 🚀 Estructura de la Base de Datos 🚀

## 👥 Tabla: Trabajadores
<details> 
<summary>Ver detalles</summary>

| Campo | Descripción |
|-------|-------------|
| 🔑 id_trabajador | Identificador único del trabajador |
| 👤 nombre | Nombre del trabajador |
| 👤 apellido | Apellido del trabajador |
| 📧 email | Correo electrónico del trabajador |
| 📞 telefono | Número de teléfono |
| 🏢 departamento | Departamento al que pertenece |
| 💼 cargo | Posición en la empresa |
| 📅 fecha_contratacion | Fecha de inicio en la empresa |
| 🚦 estado | 'activo' o 'inactivo' |
| 👨‍💼 supervisor_id | ID del supervisor (auto-referencia) |
| 🛠️ especialidad | Área de experiencia |
| 🔐 nivel_acceso | Nivel de permisos en el sistema |

</details>

## 🎫 Tabla: Incidencias
<details>
<summary>Ver detalles</summary>

| Campo | Descripción |
|-------|-------------|
| 🔑 id_incidencia | Identificador único de la incidencia |
| 📝 titulo | Título breve de la incidencia |
| 📄 descripcion | Descripción detallada |
| 📅 fecha_creacion | Fecha de creación de la incidencia |
| 🔄 fecha_actualizacion | Fecha de última actualización |
| 🏁 fecha_cierre | Fecha de resolución |
| 🚦 estado | 'abierta', 'en progreso', 'cerrada' |
| ⚠️ prioridad | 'baja', 'media', 'alta', 'crítica' |
| 👤 id_usuario | ID del usuario que reportó |
| 🏷️ id_tematica | ID de la temática asociada |
| ⏱️ tiempo_estimado_resolucion | Tiempo previsto para resolver |
| ⏱️ tiempo_real_resolucion | Tiempo real de resolución |
| 📝 notas_internas | Comentarios internos |

</details>

## 👥 Tabla: Usuarios
<details>
<summary>Ver detalles</summary>

| Campo | Descripción |
|-------|-------------|
| 🔑 id_usuario | Identificador único del usuario |
| 👤 nombre | Nombre del usuario |
| 👤 apellido | Apellido del usuario |
| 📧 email | Correo electrónico |
| 📞 telefono | Número de teléfono |
| 🏢 empresa | Empresa a la que pertenece |
| 🏢 departamento | Departamento en su empresa |
| 💼 cargo | Posición en su empresa |
| 📅 fecha_registro | Fecha de alta en el sistema |
| 🕒 ultima_actividad | Último acceso o acción |
| 📣 preferencia_contacto | 'email', 'telefono', 'sms' |

</details>

## 📋 Tabla: Asignaciones
<details>
<summary>Ver detalles</summary>

| Campo | Descripción |
|-------|-------------|
| 🔑 id_asignacion | Identificador único de la asignación |
| 🎫 id_incidencia | ID de la incidencia asignada |
| 👥 id_trabajador | ID del trabajador asignado |
| 📅 fecha_asignacion | Fecha y hora de la asignación |

</details>

## 🏷️ Tabla: Tematicas
<details>
<summary>Ver detalles</summary>

| Campo | Descripción |
|-------|-------------|
| 🔑 id_tematica | Identificador único de la temática |
| 📌 nombre | Nombre de la temática |
| 📝 descripcion | Descripción de la temática |

</details>

## 🔗 Relaciones Clave

- 👥 **Trabajadores** pueden supervisar a otros Trabajadores (self-referencing).
- 🎫 **Incidencias** están asociadas a Usuarios y Temáticas.
- 📋 **Asignaciones** conectan Incidencias con Trabajadores.
- 🏷️ **Temáticas** categorizan las Incidencias.



> [!IMPORTANT]
> ## 14. Explicación del diseño de base de datos relacional
>
> Como equipo (Marc, Leo y Bea), seleccionamos una base de datos relacional en función de factores que se consideran fundamentales:
>
> 1. 🔗 **Integridad de los datos**: Las relaciones entidad relación entre las tablas de datos garantizan la coherencia y precisión de los datos.
> 2. 🔍 **Eficacia de las consultas**: Facilita la realización de búsquedas complejas.
> 3. 🔒 **Seguridad**: Facilita un control granular del acceso.
> 4. 🔄 **Escalabilidad**: Se transforma y se ajusta conforme aumentan los datos y usuarios.
> 5. 📊 **Normalización**: Disminuye la repetición de datos, lo que potencia la integridad.

### Conclusión final.

Los atributos elegidos para cada tabla se han seleccionado con meticulosidad:

- 📈 Análisis: Características como la prioridad y el plazo de conclusión facilitan la elaboración de indicadores de desempeño.
- 🎯 Individualización: Fields como los gustos de contacto mejoran la experiencia del usuario.
- 🔀 Adaptabilidad: La arquitectura tiene la capacidad de adaptarse a diversas clases de incidentes y procesos laborales.
- 🔍 Particularidades: Las áreas de descripción ofrecen un marco integral para cada entidad.

---

### 15. ARQUITECTURA DE RED
           
## DESCRIPCIÓN DE LA ARQUITECTURA
### Proxmox Virtual Environment 
<p align="right">
<img src="https://img.icons8.com/color/48/000000/proxmox.png" width="50" alt="Proxmox">
</p>


Proxmox Virtual Environment es una solución de código abierto para la virtualización empresarial. Su objetivo es ayudarte a optimizar el uso de los recursos ya existentes, minimizar el coste del hardware y el tiempo empleado. Se basa en Debian GNU/Linux y utiliza un kernel de Linux personalizado -es el corazón del sistema operativo, gestionando los recursos de hardware y proporcionando servicios esenciales para el funcionamiento del software en una computadora-, por lo que las imágenes de disco (archivos ISO) en la instalación incluyen un sistema Debian completo. Además, permite su instalación sobre otra ya existente.

Proxmox VE ofrece dos tipos principales de virtualización por defecto:
- Utilización total de la virtualización a través de KVM (Máquina Virtual basada en el Kernel) 🖥️.
  - Puedes usar máquinas virtuales (VMs) con sistemas operativos completos.
  - Puede utilizar sistemas Windows y Linux a través de virtualización.
  - Proporciona funciones como instantáneas, replicación y modelos.
  - KVM ofrece virtualización completa y para virtualización mediante VirtIO.

- Utilización de LXC (Linux Containers) 🐳 para la virtualización basada en contenedores.
  - Permite correr varios sistemas operativos Linux separados al mismo tiempo.
  - Es más liviana y eficaz que la virtualización total.
  - Perfecto para tareas simples y conexiones en línea.
  - Los contenedores LXC pueden ajustar la memoria RAM y el espacio en disco asignados sin necesidad de reiniciar el sistema, de forma rápida y sencilla.

Proxmox VE ofrece una solución versátil que se ajusta a diversas necesidades de virtualización al combinar KVM para virtualización completa y LXC para contenedores en un mismo entorno 🌐.

## Desglose de la arquitectura y su configuración

- 🌐 Cada paso necesario para configurar adecuadamente la red en una máquina virtual de Proxmox incluye la creación de puentes de red, la configuración de direcciones IP mediante Netplan y la gestión de reglas con iptables para el enrutamiento del tráfico. En esta guía, abordaremos cómo instalar y configurar los servicios de DHCP y DNS utilizando `isc-dhcp-server` y `bind9`, lo que permitirá una administración completa de la red interna.

- 🔧 También se incluirán prácticas recomendadas, como realizar copias de seguridad de los archivos de configuración y la importancia de verificar cada ajuste para asegurar una comunicación fluida y segura entre los dispositivos en tu infraestructura virtual.

- 📜 Además, explicaremos los comandos esenciales y su propósito, desde el uso de NAT en iptables hasta la configuración de zonas de dominio en el servidor DNS. Con esta guía, podrás gestionar eficientemente tus redes internas y externas en Proxmox, asegurando que cada servicio esté correctamente enrutado y configurado.

---
## TAS: DIAGRAMA DE RED
![Diagrama de Red TAS](https://github.com/Montitan/TAS/blob/9826cec5ab2e4963c7d560d5763c216e6310c833/proyecto-web-tas/network-architecture/diagrams/DIAGRAMA%20DE%20RED%20TAS.png)

> [!CAUTION]
> ### Configuración Adicional
> - 🛡️ Firewall: Se implementó iptables para control de tráfico y seguridad.
> - Las reglas definidas aseguran que solo el tráfico autorizado pueda acceder a los servicios críticos.
> - 🔀 Reenvío de Puertos: Configurado para permitir acceso a servicios internos desde la red externa.
> - Facilita la conectividad remota a aplicaciones específicas.             

# ROUTER
## Configuración de la Red en Proxmox

### Preparación Inicial
> [!IMPORTANT]
> Antes de proceder con la configuración de Netplan, es fundamental realizar una modificación crucial en la configuración de hardware de la máquina virtual. Por defecto, las máquinas virtuales están equipadas con una única interfaz de red. Para garantizar un rendimiento óptimo del router, es imperativo agregar una interfaz de red adicional.


![Configuración de Hardware VM Router](https://github.com/Montitan/Memoria/blob/main/proyecto-web-tas/assets/img/Hardware%20VM%20Router%201.png?raw=true)

### Procedimiento para Agregar una Interfaz de Red

1. **Acceso a la Configuración**: Ingrese a la configuración de hardware de la máquina virtual.
2. **Localización**: Ubique la sección de dispositivos de red.
3. **Adición**: Incorpore una nueva interfaz de red a la configuración existente.
4. **Verificación**: Asegúrese de que la nueva interfaz esté correctamente configurada y activada.

> [!TIP]
> ### Beneficios de la Configuración Dual
>
> - **Mayor Flexibilidad**: Permite separar el tráfico de red interno y externo.
> - **Seguridad Mejorada**: Facilita la implementación de políticas de seguridad más robustas.
> - **Rendimiento Optimizado**: Distribuye la carga de red entre dos interfaces.
---


# Configuración de Red Virtual
## Puentes Linux (Linux Bridges)

Se utilizan dos puentes Linux para gestionar el tráfico de red entre las máquinas virtuales y la red externa:
![Linux Bridge Hardware VM Router](https://github.com/Montitan/Memoria/blob/main/proyecto-web-tas/assets/img/Linux%20Bridge%20Hardware%20VM%20Router%201.png?raw=true)

### 1. vmr0 (Puente Externo)
- **Red**: 100.77.20.0/24
- **Función**: Conecta el entorno virtual con la red externa a través del router del host.
- **Características**:
  - Actúa como punto de salida del tráfico hacia Internet.
  - Facilita la comunicación entre las máquinas virtuales y la red física externa.

### 2. vmr1 (Puente Interno)
- **Red**: 192.168.1.0/24
- **Función**: Establece una red interna para la comunicación entre máquinas virtuales.
- **Características**:
  - Permite que las máquinas virtuales se comuniquen entre sí.
  - Proporciona una ruta para que las máquinas virtuales accedan a la red externa a través de vmr0.

## Instalación y Verificación de qemu-guest-agent

- hacemos uso del comando: ping 8.8.8.8 : Comprobamos que tengamos conexión a internet
- hacemos uso del comando: apt install qemu-guest-agent Para poder instalar qemu-guest-agent(permite poder visualizar dentro de proxmox las direcciones ip de las mv) 

> [!TIP]
> QEMU es un programa de código abierto que puede emular varias arquitecturas de hardware, como x86, ARM y MIPS. Su función principal es ejecutar sistemas operativos y
> aplicaciones diseñados para una arquitectura específica en otra diferente, lo que lo hace útil para el desarrollo de software, pruebas y análisis de seguridad. QEMU, cuando > se utiliza con KVM, permite una virtualización de alto rendimiento que ofrece una solución flexible y eficiente para crear entornos virtuales en diferentes.
>
> qemu-guest-agent es un daemon que se instala en las máquinas virtuales (VM) y permite la comunicación entre el host Proxmox y las VMs.


---

## Funcionamiento del Sistema

### Comunicación Interna

- Las máquinas virtuales conectadas a `vmr1` pueden comunicarse directamente entre sí dentro de la red 192.168.1.0/24.

### Acceso a Internet

1. El tráfico de las máquinas virtuales destinado a Internet pasa primero por `vmr1`.
2. A continuación, se enruta a través de `vmr0` para llegar a la red externa (100.77.20.0/24).
3. Por último, el router host gestiona la conexión a Internet.

### Segmentación y Seguridad

- Esta configuración permite una clara separación entre el tráfico interno y externo.
- Facilita la aplicación de políticas de seguridad y control de acceso entre redes.

---

## Diagrama de Red

```
+----------------+       +----------------+
|  Máquinas      |       |                |
|  Virtuales     |       |   Internet     |
|                |       |                |
|(192.168.1.0/24)|       |                |
|       |        |       |                |
|       |        |       |                |
|     vmr1       |       |                |
|       |        |       |                |
|       |        |       |                |
|     vmr0       |       |                |
|       |        |       |                |
+-------|--------+       +----------------+
        |
        |
   (100.77.20.0/24)
        |
        |
+-------|--------+
|   Router Host  |
+----------------+
```
---

Comprobamos que tengamos conexión a internet para poder instalar qemu-guest-agent (sirve para poder visualizar dentro de proxmox que direcciones ip tiene las mv)

> [!TIP]
> Opcional: Instalar net-tools para poder monitorear la red, supervisar servicios, máquinas, tráfico de red y dispositivos de red, y no tener que utilizar `ip -a` todo el tiempo. La manera recomendada de configurar direcciones IP cuando no tenemos DHCP es usando NETPLAN.

> [!CAUTION]
> Es muy importante tener en cuenta lo siguiente:
> 
> 1. Si el archivo tiene el nombre '50-cloud-init.yaml' (que viene por defecto), es necesario renombrarlo.
> 2. En caso de reiniciar la máquina, el archivo '50-cloud-init.yaml' no se guarda y se vuelve a generar automáticamente.
> 3. Al editar el archivo de configuración, debemos tener en cuenta los rangos de IP que tenemos establecidos en Proxmox.
>
> Procedimiento recomendado:
> 1. Renombrar el archivo '50-cloud-init.yaml' a un nombre personalizado, por ejemplo '01-netcfg.yaml'.
> 2. Editar el nuevo archivo con la configuración deseada.
> 3. Asegurarse de que las IP configuradas estén dentro del rango permitido en Proxmox.


![Interfaces de red](https://github.com/Montitan/Memoria/blob/main/proyecto-web-tas/assets/img/Interfaces%20de%20red.png?raw=true)


Como podemos ver en la imagen superior estamos editando ambas interfaces de red.
Esta edición de interfaces nos permitirá la comunicación entre máquinas para que tengan comunicación con el host a partir del mismo router.
En la interfaz ens18 asignamos la direccion ip 100.77.20.24/24
Así mismo definimos los dns, como las rutas que en este caso sería la salida (gateway) de esa interfaz

Por otra parte en la interfaz ens 19 asignamos la dirección ip 192.168.1.1/24, aquí no habrá salida ya que ens 18 será la que nos la brinde.

ANEXOS:

—> Para leer más en detalle de la configuración que hemos hecho en el router, dns y dhcp clickea el siguiente enlace:
[TAS PROXMOX PDF](https://github.com/Montitan/TAS/blob/52f950c8cbe2a122739d3710e1a56d1b960c66fb/proyecto-web-tas/proxmox_router_dns_dhcp/TAS%20PROXMOX.pdf)

—> Para leer más en detalle de la configuración en el reenvio de puertos
[Reenvíos de Puertos TAS](https://github.com/Montitan/TAS/blob/e930c28ae5005842dd057246902bc68a3b6c0afc/proyecto-web-tas/REENVIOS%20DE%20PUERTOS/REENVIOS%20DE%20PUERTOS_TAS_M.MOUTOUTO_L.DUARTE_BSUAREZ%20(2).pdf)

—> Para leer más en detalle de la Teoria del Color que hemos hecho para el proyecto, clickea el siguiente enlace:
[Teoría del Color TAS](https://github.com/Montitan/TAS/blob/d2ccd87b58032ccaaa34af11acf44cd619309e9b/proyecto-web-tas/Teoria%20del%20color/TEORIA%20DEL%20COLOR%20TAS_MARMOUTOTO_LEONARDODUARTE_BEATRIZSUAREZ.pdf)

—> Para leer más en detalle del Arbol de Flujo que hemos hecho para el proyecto, clickea el siguiente enlace:
![Árbol de Flujo](https://github.com/Montitan/TAS/blob/8ae3d7783cc0d2d91c93959fba2f5be571849378/proyecto-web-tas/Arbol-Flujo/arbol-flujo.png)
